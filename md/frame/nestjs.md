# nestjs

## 中间件

下列都是可以理解为中间件，但是每个侧重不同，执行顺序也不同  

- middleware(中间件) -- 中间件，任何在请求到路由前执行的函数
- guard(警卫) -- 身份验证中间件，侧重于路由或者路由方法能否被访问，可以检测token和role
- interceptor(拦截器) -- 前后中间件，侧重于请求前后处理，可以记录请求响应或者改变响应数据再返回给客户端
- pipe(管道) -- 请求验证中间件，侧重于请求验证，也可以做数据转换
- filter(异常过滤器) -- 错误处理中间件，侧重于路由的错误处理，返回给客户端错误

![2022-10-18-15-49-26](https://raw.githubusercontent.com/VirgoHxy/image-hosting/main/img/2022-10-18-15-49-26.png)